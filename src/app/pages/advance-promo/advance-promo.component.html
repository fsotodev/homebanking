<div class="main-container">
  <mat-card class="container-info">
    <div class="container-title">
      <p class="title"> Editar
        <span class="title-highlighted">Promoción</span>
      </p>
    </div>
  </mat-card>

  <mat-card class="main-container-form">
    <mat-card-content class="container-info-form">
      <div class="container-form" [formGroup]="promotionForm">
        <section class="date-box">
          <mat-checkbox class="example-margin" [(ngModel)]="promoInfo.isActive" formControlName="isActive">
            Activo
          </mat-checkbox>
        </section>
        <section class="date-box">
          <span class="title-section">Imágen de la promoción</span>
          <div class="special-info">
            <div class="buttons-box">
              <app-load-file-button [showUrl]="false" [text]="text" [extensions]="extensions" [isLoading]="isUploading" (file)="uploadMainImage($event)"></app-load-file-button>
              <!-- <span class="tip-image">Formato: 414x235.Extensión imagen: .png</span> -->
              <div class="preview" *ngIf="promoInfo.promotionMainImage">
                <p class="title-section">Imágen preview</p>
                <img [src]="promoInfo.promotionMainImage" alt="preview">
              </div>
            </div>
          </div>
        </section>

        <section class="dates-info">
          <!-- Promotion Subtitle -->
          <mat-form-field class="input-info field-text">
            <input matInput type="text" placeholder="Subtítulo de la promoción"
              [(ngModel)]="promoInfo.promotionSubtitle" formControlName="promotionSubtitle" required>
            <mat-hint>Ej: Tiendas Ripley</mat-hint>
            <mat-hint align="end">{{ promoInfo.promotionSubtitle ? promoInfo.promotionSubtitle.length : 0 }} / 20
            </mat-hint>
          </mat-form-field>

          <!-- Title  -->
          <mat-form-field class="input-info field-text">
            <input matInput type="text" placeholder="Título de la promoción" [(ngModel)]="promoInfo.promotionTitle"
              formControlName="promotionTitle" required>
            <mat-hint>Ej: 30% de descuento</mat-hint>
            <mat-hint align="end">{{ promoInfo.promotionTitle ? promoInfo.promotionTitle.length : 0 }} / 20</mat-hint>
          </mat-form-field>

          <!-- Main Descripton -->
          <mat-form-field class="input-info field-text">
            <input matInput type="text" placeholder="Descripción de la promoción"
              [(ngModel)]="promoInfo.mainDescription" formControlName="mainDescription" required>
            <mat-hint>Ej: Sólo hasta el 9 de octubre.</mat-hint>
            <mat-hint align="end">{{ promoInfo.mainDescription ? promoInfo.mainDescription.length : 0 }} / 50</mat-hint>
          </mat-form-field>

          <!-- Start and Endate -->
          <section class="date-box">
            <span class="title-section">Vigencia del beneficio</span>
            <section class="dates-info">
              <mat-form-field class="date">
                <input matInput [matDatepicker]="startDate" placeholder="Desde" [(ngModel)]="promoInfo.startDate"
                  formControlName="startDate">
                <mat-datepicker-toggle matSuffix [for]="startDate"></mat-datepicker-toggle>
                <mat-datepicker #startDate disabled="false"></mat-datepicker>
              </mat-form-field>
              <mat-form-field class="date">
                <input matInput [matDatepicker]="endDate" placeholder="Hasta" [(ngModel)]="promoInfo.endDate"
                  formControlName="endDate">
                <mat-datepicker-toggle matSuffix [for]="endDate"></mat-datepicker-toggle>
                <mat-datepicker #endDate disabled="false"></mat-datepicker>
              </mat-form-field>
            </section>
          </section>
        </section>
      </div>
    </mat-card-content>

    <div class="container-buttons">
      <button mat-button (click)="goBack()" class="i-left-arrow button-tertiary">volver</button>
      <div class="main-buttons">
        <button mat-raised-button (click)="save()" class="button-primary"
          [disabled]="!promotionForm.valid || saving">Guardar</button>
      </div>
    </div>
  </mat-card>
</div>